<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Duofit.Pages.TimerPage"
             Title="타이머"
             BackgroundColor="{DynamicResource PageBackgroundColor}">
  <VerticalStackLayout Padding="18" Spacing="12">

    <!-- Top: three pickers for 준비 / 운동 / 종료 -->
    <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
      <VerticalStackLayout HorizontalOptions="Center" WidthRequest="110">
        <Label Text="준비" HorizontalOptions="Center" />
        <Entry x:Name="PrepEntry" Keyboard="Numeric" HorizontalTextAlignment="Center" Placeholder="mm:ss" TextChanged="OnTimeEntryTextChanged" />
      </VerticalStackLayout>

      <VerticalStackLayout HorizontalOptions="Center" WidthRequest="110">
        <Label Text="운동" HorizontalOptions="Center" />
        <Entry x:Name="WorkoutEntry" Keyboard="Numeric" HorizontalTextAlignment="Center" Placeholder="mm:ss" TextChanged="OnTimeEntryTextChanged" />
      </VerticalStackLayout>

      <VerticalStackLayout HorizontalOptions="Center" WidthRequest="110">
        <Label Text="종료" HorizontalOptions="Center" />
        <Entry x:Name="EndEntry" Keyboard="Numeric" HorizontalTextAlignment="Center" Placeholder="mm:ss" TextChanged="OnTimeEntryTextChanged" />
      </VerticalStackLayout>
    </HorizontalStackLayout>

    <!-- Center: circular progress + big time label -->
    <Grid HorizontalOptions="Center" VerticalOptions="CenterAndExpand">
      <GraphicsView x:Name="CircleView"
                    WidthRequest="260"
                    HeightRequest="260" />

      <StackLayout HorizontalOptions="Center" VerticalOptions="Center" Spacing="4">
        <Label x:Name="TimeLabel"
               Text="00:00"
               FontSize="48"
               HorizontalTextAlignment="Center"
               FontAttributes="Bold" />
        <Label x:Name="PhaseLabel"
               Text="준비"
               FontSize="16"
               HorizontalTextAlignment="Center" />
      </StackLayout>
    </Grid>

    <!-- Bottom controls -->
    <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
      <Button x:Name="StartPauseButton"
              Text="START"
              WidthRequest="160"
              HeightRequest="54"
              CornerRadius="8"
              Clicked="OnStartPauseClicked" />
      <Button x:Name="ResetButton"
              Text="RESET"
              WidthRequest="120"
              HeightRequest="54"
              CornerRadius="8"
              Clicked="OnResetClicked" />
    </HorizontalStackLayout>

  </VerticalStackLayout>
</ContentPage>
